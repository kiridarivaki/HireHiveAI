<div class="profile-container">
<section class="profile-details">
  <h1>User Profile</h1>
  <div class="form-field">
    <app-input
        type="email"
        label="Email"
        inputId="email"
        [placeholder]="userData?.email ?? 'Email Address'"
        [disabled]="true"
    ></app-input>
    </div>  
    
  <form [formGroup]="profileForm">
  <div class="form-field">
    <app-input
        type="text"
        label="First Name"
        inputId="firstName"
        formControlName="firstName"
        [placeholder]="userData?.firstName ?? 'First Name'"
        [disabled]="!isEditMode"
    ></app-input>
    <mat-error *ngIf="profileForm.controls.firstName.invalid && (profileForm.controls.firstName.dirty || profileForm.controls.firstName.touched)">
      {{ profileForm.controls.firstName.errors | validationError }}
    </mat-error>
</div>
  <div class="form-field">
    <app-input
        type="text"
        label="Last Name"
        inputId="lastName"
        formControlName="lastName"
        [placeholder]="userData?.lastName ?? 'Last Name'"
        [disabled]="!isEditMode"
    ></app-input>
    <mat-error *ngIf="profileForm.controls.lastName.invalid && (profileForm.controls.lastName.dirty || profileForm.controls.lastName.touched)">
      {{ profileForm.controls.lastName.errors | validationError }}
    </mat-error>
</div>
  <div class="form-field">
    <app-select
      selectId="statusSelect"
      [label]="userData?.employmentStatus ?? 'Employment Status'"
      [options]="employmentOptions"
      [disabled]="!isEditMode"
      formControlName="employmentStatus">
    </app-select>
    </div>
    <div *ngIf="isEditMode">
    <app-button
        class="form-field"
        text="Save Changes"
        type="submit"
        (onClick)="onSubmit()"
        [disabled]="!isEditMode">
    </app-button>
    <app-button
        class="form-field"
        text="Cancel"
        (onClick)="toggleEdit()"
        [disabled]="!isEditMode">
    </app-button>
    </div>
  </form>
    <app-button *ngIf="!isEditMode"
      class="form-field"
      text="Edit Profile"
      (onClick)="toggleEdit()">
    </app-button>
  </section>
  <section class="resume-upload">
    <app-resume-upload [userId]="userId"></app-resume-upload>
  </section>
</div>